<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Sun Blade 150 working! - Jason Antman's Blog</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="https://blog.jasonantman.com/2007/12/sun-blade-150-working/">

        <meta name="author" content="admin" />
        <meta name="keywords" content="nvram,openboot,password,smc,solaris,sun,sunblade" />
        <meta name="description" content="Yes, it’s 3 AM here, and I’ve been working since about 6 PM on this. But I finally got one of my two surplus (and fully locked down in NVRAM) Sun Blade 150 workstations up and running. I encountered a few problems along the way, but managed to …" />

        <meta property="og:site_name" content="Jason Antman's Blog" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Sun Blade 150 working!"/>
        <meta property="og:url" content="https://blog.jasonantman.com/2007/12/sun-blade-150-working/"/>
        <meta property="og:description" content="Yes, it’s 3 AM here, and I’ve been working since about 6 PM on this. But I finally got one of my two surplus (and fully locked down in NVRAM) Sun Blade 150 workstations up and running. I encountered a few problems along the way, but managed to …"/>
        <meta property="article:published_time" content="2007-12-14" />
            <meta property="article:section" content="Hardware" />
            <meta property="article:tag" content="nvram" />
            <meta property="article:tag" content="openboot" />
            <meta property="article:tag" content="password" />
            <meta property="article:tag" content="smc" />
            <meta property="article:tag" content="solaris" />
            <meta property="article:tag" content="sun" />
            <meta property="article:tag" content="sunblade" />
            <meta property="article:author" content="admin" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://blog.jasonantman.com/theme/css/bootstrap.flatly.min.css" type="text/css"/>
    <link href="https://blog.jasonantman.com/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://blog.jasonantman.com/theme/css/pygments/default.css" rel="stylesheet">
        <link href="https://blog.jasonantman.com/theme/css/typogrify.css" rel="stylesheet">
    <link rel="stylesheet" href="https://blog.jasonantman.com/theme/css/style.css" type="text/css"/>
        <link href="https://blog.jasonantman.com/theme/css/shariff/shariff.min.css" rel="stylesheet">

    <link rel="stylesheet" href="https://blog.jasonantman.com/theme/css/forkongithub.min.css" type="text/css" />

        <link href="https://blog.jasonantman.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Jason Antman's Blog ATOM Feed"/>

        <link href="https://blog.jasonantman.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="Jason Antman's Blog RSS Feed"/>


        <link href="https://blog.jasonantman.com/feeds/categories/hardware.atom.xml" type="application/atom+xml" rel="alternate"
              title="Jason Antman's Blog Hardware ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
<span id="forkongithub"><a href="https://github.com/jantman/blog">Fork me on GitHub</a></span>        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://blog.jasonantman.com/" class="navbar-brand">
Jason Antman's Blog            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="/pages/about.html">About Me</a></li>
                    <li><a href="/categories/aws/index.html">AWS</a></li>
                    <li><a href="/categories/software/index.html">Software</a></li>
                    <li><a href="/categories/hardware/index.html">Hardware</a></li>
                    <li><a href="/categories/diy-home-automation-security/index.html">DIY / Home Automation / Security</a></li>
                    <li><a href="/categories/miscellaneous/index.html">Miscellaneous</a></li>
                    <li><a href="/tags.html">Tags</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://blog.jasonantman.com/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://blog.jasonantman.com/2007/12/sun-blade-150-working/"
                       rel="bookmark"
                       title="Permalink to Sun Blade 150 working!">
                        Sun Blade 150&nbsp;working!
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2007-12-14T02:44:00-05:00"> Fri 14 December 2007</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="https://blog.jasonantman.com/tags/nvram/index.html">nvram</a>
        /
	<a href="https://blog.jasonantman.com/tags/openboot/index.html">openboot</a>
        /
	<a href="https://blog.jasonantman.com/tags/password/index.html">password</a>
        /
	<a href="https://blog.jasonantman.com/tags/smc/index.html">smc</a>
        /
	<a href="https://blog.jasonantman.com/tags/solaris/index.html">solaris</a>
        /
	<a href="https://blog.jasonantman.com/tags/sun/index.html">sun</a>
        /
	<a href="https://blog.jasonantman.com/tags/sunblade/index.html">sunblade</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>Yes, it&#8217;s 3 <span class="caps">AM</span> here, and I&#8217;ve been working since about 6 <span class="caps">PM</span> on this. But
I finally got one of my two surplus (and fully locked down in <span class="caps">NVRAM</span>) Sun
Blade 150 workstations up and running. I encountered a few problems
along the way, but managed to solve them - more or&nbsp;less.</p>
<h2 id="problem-1-nvram-password-set-impossible-to-install-an-os"><a class="toclink" href="#problem-1-nvram-password-set-impossible-to-install-an-os">Problem 1 - <span class="caps">NVRAM</span> password set, impossible to install an&nbsp;<span class="caps">OS</span>.</a></h2>
<p>I did a <em>lot</em> of googling, and asking for advice. Eventually, I came
by a forum post expressing success with a procedure of pulling out and
then re-inserting the <span class="caps">NVRAM</span> *while* the system is powered on. This
left my system un-bootable. I pulled the chip again, and found two pins
bent. I straightened them, re-inserted, and rebooted using the Stop+N
Equivalent Functionality (after powering on the system, once you hear
the <span class="caps">POST</span> beep, click the power button twice quickly). This temporarily
resets the <span class="caps">NVRAM</span> to default settings. I found that the password was
gone, and was able to issue the &#8220;set-defaults&#8221; command at the &#8220;ok>&#8221;
prompt. I then popped in the Solaris 10 install <span class="caps">CD</span>, issued the
&#8220;reset-all&#8221; command to reboot, and used Stop+A at boot to bring up a
boot menu, and told it to boot from <span class="caps">CDROM</span> (&#8220;boot cdrom&#8221;). Installation
then&nbsp;started.</p>
<h2 id="problem-2-invalid-nvram"><a class="toclink" href="#problem-2-invalid-nvram">Problem 2 - Invalid&nbsp;<span class="caps">NVRAM</span></a></h2>
<p>After the above procedure, when booting, I got a message following the
Sun banner stating that there was a problem with the IDprom checksum.
When the install <span class="caps">CD</span> booted, I also got messages stating &#8220;Invalid format
code in IDprom&#8221;, &#8220;Warning: IDprom checksum error&#8221;, and &#8220;os-io Invalid
format code in IDprom&#8221;. After another five hours of work, I found that
it&#8217;s essentially something I have to live with. While OpenBoot previous
to version 4 allowed use of the &#8220;mkp&#8221; and &#8220;mkpl&#8221; commands to directly
write the IDprom, version 4 and above allows no access to this. The
IDprom was reporting an ethernet (mac) address of all zeros.
Unfortunately, there seems to be no way to correct this as far as I&#8217;ve
found. However, it didn&#8217;t effect my <span class="caps">OS</span> installation&#8230;&nbsp;much.</p>
<p>*There may be a way to access the IDprom through OpenBoot 4.x, but I
couldn&#8217;t find any reference to it online, and couldn&#8217;t figure out the
<span class="caps">FORTH</span> commands from the reference&nbsp;docs.</p>
<p>Some helpful links for the above problems include the OpenBoot 4.x
Command Reference Manual, currently found
<a href="http://dlc.sun.com/pdf/816-1177-10/816-1177-10.pdf">here</a>, as well as
the Sun Blade 150 Service Manual (from
<a href="http://docs.sun.com/">docs.sun.com</a>), document 816-4379-10, currently
indexed with the Sun Blade 150 docs
<a href="http://docs.sun.com/app/docs/coll/sb150">here</a>. It was also
interesting, in my search for help, to look at the OpenBoot 3.x Command
Manual, and see how easy it was to re-write the IDprom on older Sun
Blade&nbsp;workstations.</p>
<p>Pleaese note that the advice given in the <a href="http://040.digital-bless.com/texts/Unofficial_Sun_Blade_100_FAQ.htm">Unofficial SunBlade 100
<span class="caps">FAQ</span></a>
and the <a href="http://www.squirrel.com/sun-nvram-hostid.faq.html">squirrel.com Sun <span class="caps">NVRAM</span>
<span class="caps">FAQ</span></a> doesn&#8217;t seem to
work on the 150 with OpenBoot 4.x. From what I can tell, all of that
advice applies only to OpenBoot&nbsp;3.x!</p>
<p>Some other helpful links included an ITworld.com article on <a href="http://open.itworld.com/5040/nlsunixfirmware070111/page_1.html">Sun <span class="caps">NVRAM</span>
passwords</a>,
<a href="http://forum.java.sun.com/thread.jspa?threadID=5093819&amp;messageID=9329080">this</a>
Sun Developer Forum post, and
<a href="http://forum.java.sun.com/thread.jspa?threadID=5093819&amp;messageID=9329080">this</a>
post on password&nbsp;recovery.</p>
<h2 id="problem-3-mac-ethernet-address-is-000000000000"><a class="toclink" href="#problem-3-mac-ethernet-address-is-000000000000">Problem 3 - <span class="caps">MAC</span> / Ethernet address is&nbsp;00:00:00:00:00:00</a></h2>
<p>When booting Solaris, I found that I couldn&#8217;t get <span class="caps">DHCP</span>. When I finally
got the <span class="caps">OS</span> running and logged in as root, I realized something
interesting - I couldn&#8217;t access or ping anything past the one switch I
was connected to. But everything on that switch was fine, pinging both
from and to the Solaris box. I ping&#8217;ed from my laptop, and then thought
to run &#8220;arp -a&#8221;. It showed a <span class="caps">MAC</span> address of 00:00:00:00:00:00! Running
&#8220;ifconfig -a&#8221; on the Solaris box confirmed this. Luckily, the first time
I booted this box, I wrote down the ethernet address and hostID as shown
on the banner. I ran a quick ifconfig to setup the correct <span class="caps">MAC</span>, like
&#8220;ifconfig eri0 ether xx:xx:xx:xx:xx:xx&#8221;. Networking now worked
perfectly, and I could get to everything on the <span class="caps">LAN</span> as well as browse
the web. It would be good to somehow reset this in <span class="caps">NVRAM</span>, but for now
I&#8217;m just going to add it to the startup scripts somewhere. One forum
post that I found suggested adding the previous ifconfig command to the
top of /etc/rc.c/init.d/network, which I&#8217;ve done and will see how it
works at the next&nbsp;boot.</p>
<h2 id="problem-4-cant-login-to-smc-solaris-management-console"><a class="toclink" href="#problem-4-cant-login-to-smc-solaris-management-console">Problem 4 - Can&#8217;t login to <span class="caps">SMC</span> (Solaris Management&nbsp;Console)</a></h2>
<p>My next task after getting the system up and running, and getting
networking working, as to give myself a user account. I was logged in
using the Java Desktop System, so I opened a terminal and ran &#8220;smc &amp;&#8221;.
After the usual initialization wait, I loaded the toolboxes for the
local machine, and connected. When I clicked on the &#8220;users&#8221; module and
entered my root password, I got an invalid password / login failed
message. I tried again and again, even checking against the post-it that
I wrote the password on until I memorize it. Nothing. Searching the
forums, I came by this
<a href="http://forum.java.sun.com/thread.jspa?threadID=5104081&amp;messageID=9354742">post</a>,
but the value in /etc/security/policy.conf was correctly set to &#8221;
CRYPT_DEFAULT=__unix__&#8221;. So, on a wild hunch, I used &#8220;passwd&#8221; to
reset my password to a shorter one, which I use on a few other
(unimportant) workstations.&nbsp;Magic!</p>
<p>I now have, after two days of work, a working Solaris box. Now that I
have a good <span class="caps">OS</span> install, in order to get the other box working, I
*should* just be able to swap HDDs, boot, login as root, and use the
&#8220;eeprom&#8221; command to set &#8220;security-mode&#8221; to &#8220;none&#8221;, bypassing all of this&nbsp;bull****.</p>
            </div>
            <!-- /.entry-content -->
    <hr />
    <!-- Shariff Button BEGIN -->
    <div class="shariff"
        data-lang="en"
        data-orientation="horizontal"
        data-services = "[&quot;facebook&quot;,&quot;googleplus&quot;,&quot;twitter&quot;,&quot;linkedin&quot;,&quot;diaspora&quot;]"
        data-theme="standard"
        data-url="https://blog.jasonantman.com/2007/12/sun-blade-150-working/"></div>
    <!-- Shariff Button END -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'jantman'; // required: replace example with your forum shortname

                    var disqus_identifier = 'sun-blade-150-working';
                var disqus_url = 'https://blog.jasonantman.com/2007/12/sun-blade-150-working/';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Recent Posts -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
  <ul class="list-group" id="recentposts">
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2021/03/migrating-kodi-to-mariadb-with-locked-down-permissions-and-no-importexport/">Migrating Kodi to MariaDB, with locked-down permissions and no&nbsp;import/export</a></li>
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2021/03/octoprint-power-outage-handling/">OctoPrint Power Outage&nbsp;Handling</a></li>
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2020/11/on-the-creation-use-and-management-of-docker-images/">On The Creation, Use, and Management of Docker&nbsp;Images</a></li>
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2019/04/galaxy-s10--android-9-alarm-app-broken-by-battery-optimization/">Galaxy S10 / Android 9 alarm app broken by battery&nbsp;optimization</a></li>
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2019/03/arch-linux-on-a-dell-precision-5530--xps-15-9570-laptop/">Arch Linux on a Dell Precision 5530 / <span class="caps">XPS</span> 15 9570&nbsp;Laptop</a></li>
  </ul>
</li>
<!-- End Sidebar/Recent Posts -->

<!-- Sidebar/Twitter Timeline -->
<li class="list-group-item">
  <h4><i class="fa fa-twitter fa-lg"></i><span class="icon-label">Latest Tweets</span></h4>
  <div id="twitter_timeline">
    <a class="twitter-timeline" data-width="250" data-height="300" data-dnt="true" data-theme="light" href="https://twitter.com/j_antman">Tweets by j_antman</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</li>
<!-- End Sidebar/Twitter Timeline -->

<!-- Sidebar/Github -->
<li class="list-group-item">
  <h4><i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub Repos</span></h4>
  <div id="gh_repos">
    <p class="list-group-item">Status updating...</p>
  </div>
  <a href="https://github.com/jantman">@jantman</a> on GitHub
</li>
<!-- End Sidebar/Github -->

<!-- Sidebar/Links -->
<li class="list-group-item">
  <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
  <ul class="list-group" id="links">
    <li class="list-group-item">
      <a href="http://www.jasonantman.com" target="_blank">Homepage</a>
    </li>
    <li class="list-group-item">
      <a href="http://resume.jasonantman.com" target="_blank">Resume</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Links -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2021 Jason Antman
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://blog.jasonantman.com/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://blog.jasonantman.com/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://blog.jasonantman.com/theme/js/respond.min.js"></script>



    <!-- GITHUB_REPOS_JSON (explicitly pinned repos ) -->
  <script id="GithubReposJson" type="application/json">
  [{"description": "A script and python package to check your AWS service limits and usage via boto3.", "name": "awslimitchecker", "html_url": "https://github.com/jantman/awslimitchecker"}, {"description": "A collection of my standalone scripts to small/quick for their own repos. All kinds of useful stuff.", "name": "misc-scripts", "html_url": "https://github.com/jantman/misc-scripts"}, {"description": "Responsive Flask/SQLAlchemy personal finance app, specifically for biweekly budgeting.", "name": "biweeklybudget", "html_url": "https://github.com/jantman/biweeklybudget"}, {"description": "A standard to easily communicate to humans and machines the development/support and usability status of software repositories/projects.", "name": "repostatus.org", "html_url": "https://github.com/jantman/repostatus.org"}, {"description": "home automation/security config/scripts/tooling - HomeAssistant, AppDaemon, ZoneMinder, etc.", "name": "home-automation-configs", "html_url": "https://github.com/jantman/home-automation-configs"}, {"description": "A Python application for Linux machines to perform WiFi site surveys and present the results as a heatmap overlayed on a floorplan", "name": "python-wifi-survey-heatmap", "html_url": "https://github.com/jantman/python-wifi-survey-heatmap"}]
  </script>

<!-- GitHub JS Code -->
<script type="text/javascript">
$(document).ready(function () {
  if (!window.jXHR) {
    var jxhr = document.createElement('script');
    jxhr.type = 'text/javascript';
    jxhr.src = 'https://blog.jasonantman.com/theme/js/jXHR.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(jxhr, s);
  }

  console.log($('#GithubReposJson').html());
  github.showSpecificRepos({
    user: 'jantman',
    target: '#gh_repos',
    repos: JSON.parse($('#GithubReposJson').html())
  });
});
</script>
<script src="https://blog.jasonantman.com/theme/js/github.js" type="text/javascript"></script>
<!-- End GitHub JS Code -->
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'jantman'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics Universal -->
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-2718127-2', 'jasonantman.com');
        ga('send', 'pageview');
    </script>
    <!-- End Google Analytics Universal Code -->


    <!-- add shariff support -->
    <script src="https://blog.jasonantman.com/theme/js/shariff.min.js"></script>
</body>
</html>