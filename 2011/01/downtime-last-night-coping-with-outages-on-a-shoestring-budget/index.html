<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Downtime Last Night; Coping with outages on a shoestring budget - Jason Antman's Blog</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="https://blog.jasonantman.com/2011/01/downtime-last-night-coping-with-outages-on-a-shoestring-budget/">

        <meta name="author" content="admin" />
        <meta name="keywords" content="disaster recovery,downtime,failover,redundancy" />
        <meta name="description" content="Anyone who tried to visit any of my sites last night, or send me email, probably noticed that I dropped off the face of the earth. I take my uptime pretty seriously - even with virtually no budget, about 10 minutes of UPS time, and everything hosted out of my basement …" />

        <meta property="og:site_name" content="Jason Antman's Blog" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Downtime Last Night; Coping with outages on a shoestring budget"/>
        <meta property="og:url" content="https://blog.jasonantman.com/2011/01/downtime-last-night-coping-with-outages-on-a-shoestring-budget/"/>
        <meta property="og:description" content="Anyone who tried to visit any of my sites last night, or send me email, probably noticed that I dropped off the face of the earth. I take my uptime pretty seriously - even with virtually no budget, about 10 minutes of UPS time, and everything hosted out of my basement …"/>
        <meta property="article:published_time" content="2011-01-10" />
            <meta property="article:section" content="Miscellaneous" />
            <meta property="article:tag" content="disaster recovery" />
            <meta property="article:tag" content="downtime" />
            <meta property="article:tag" content="failover" />
            <meta property="article:tag" content="redundancy" />
            <meta property="article:author" content="admin" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://blog.jasonantman.com/theme/css/bootstrap.flatly.min.css" type="text/css"/>
    <link href="https://blog.jasonantman.com/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://blog.jasonantman.com/theme/css/pygments/default.css" rel="stylesheet">
        <link href="https://blog.jasonantman.com/theme/css/typogrify.css" rel="stylesheet">
    <link rel="stylesheet" href="https://blog.jasonantman.com/theme/css/style.css" type="text/css"/>
        <link href="https://blog.jasonantman.com/theme/css/shariff/shariff.min.css" rel="stylesheet">

    <link rel="stylesheet" href="https://blog.jasonantman.com/theme/css/forkongithub.min.css" type="text/css" />

        <link href="https://blog.jasonantman.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Jason Antman's Blog ATOM Feed"/>

        <link href="https://blog.jasonantman.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="Jason Antman's Blog RSS Feed"/>


        <link href="https://blog.jasonantman.com/feeds/categories/miscellaneous.atom.xml" type="application/atom+xml" rel="alternate"
              title="Jason Antman's Blog Miscellaneous ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
<span id="forkongithub"><a href="https://github.com/jantman/blog">Fork me on GitHub</a></span>        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://blog.jasonantman.com/" class="navbar-brand">
Jason Antman's Blog            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="/pages/about.html">About Me</a></li>
                    <li><a href="/categories/aws/index.html">AWS</a></li>
                    <li><a href="/categories/software/index.html">Software</a></li>
                    <li><a href="/categories/hardware/index.html">Hardware</a></li>
                    <li><a href="/categories/diy-home-automation-security/index.html">DIY / Home Automation / Security</a></li>
                    <li><a href="/categories/miscellaneous/index.html">Miscellaneous</a></li>
                    <li><a href="/tags.html">Tags</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://blog.jasonantman.com/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://blog.jasonantman.com/2011/01/downtime-last-night-coping-with-outages-on-a-shoestring-budget/"
                       rel="bookmark"
                       title="Permalink to Downtime Last Night; Coping with outages on a shoestring budget">
                        Downtime Last Night; Coping with outages on a shoestring&nbsp;budget
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2011-01-10T09:22:00-05:00"> Mon 10 January 2011</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="https://blog.jasonantman.com/tags/disaster-recovery/index.html">disaster recovery</a>
        /
	<a href="https://blog.jasonantman.com/tags/downtime/index.html">downtime</a>
        /
	<a href="https://blog.jasonantman.com/tags/failover/index.html">failover</a>
        /
	<a href="https://blog.jasonantman.com/tags/redundancy/index.html">redundancy</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>Anyone who tried to visit any of my sites last night, or send me email,
probably noticed that I dropped off the face of the earth. I take my
uptime pretty seriously - even with virtually no budget, about 10
minutes of <span class="caps">UPS</span> time, and everything hosted out of my basement. I&#8217;ve only
had about a <a href="/2010/03/downtime-past-few-days-coping-with-storms/">6-hour block of
downtime</a> in the
past 21 months, aside from that nothing externally visible except a few
sub-3-minute hiccups. And the 6 hours was due to a major power outage
that quickly overwhelmed my <span class="caps">UPS</span>. Without a generator, I can&#8217;t really
blame anyone for that. Anyway, last night into this morning I had
partial to full outages for about 12 hours. By far the most I&#8217;ve had
since I literally ripped apart my entire infrastructure, moved it from
shelves to a rack, and put it back together on the&nbsp;fly.</p>
<p>I&#8217;d like to apologize to the few people whose web sites or other
services I host out of my house. On one hand, I think those few people
are getting their money&#8217;s worth from their free hosting :) On the other
hand I know how frustrating it can be, especially when you can&#8217;t even
resolve <span class="caps">DNS</span> and my email is down. Rest assured that this situation
deeply bothers me, and I&#8217;m already hard at work on plans to at least
keep people (both the people I do hosting for and their visitors)
informed if something like this should happen in the&nbsp;future.</p>
<p><strong>The&nbsp;Story:</strong></p>
<p>Well, yesterday afternoon as I was at my father&#8217;s house about an hour
away, I started to get a slew of <a href="http://www.nagios.org">Nagios</a>
notification SMSes (well, email to <span class="caps">SMS</span>). They started at 14:22 and
stopped after a few minutes, but since I was driving, I didn&#8217;t check
them. When I got home, I found a scenario I hadn&#8217;t really anticipated -
the <span class="caps">TV</span> worked fine, but I had virtually no connectivity on my cable
Internet line. I got home around 16:22 and had spotty-at-best
connectivity. I could get some <span class="caps">DNS</span> in and out, but it was pretty much
impossible to load a web page on my desktop. I was getting Nagios alerts
out in bursts, and the postfix queue was pretty full. A cursory
inspection showed both routers (mine and Optimum&#8217;s) online with link,
the Modem had link and was blinking away, but I was passing &lt; 100 Kbps
of data. My <span class="caps">DOCSIS</span>-<span class="caps">MIB</span> checks on the cable modem were spitting back all
sorts of bad values. Not good. I checked coax connections, rebooted the
modem and router, and went outside to inspect the aerials and the
splitters on the outside of the house. Nothing visibly wrong, and no
positive change after the reboot. Now the modem wasn&#8217;t showing link at
all, and I couldn&#8217;t even ping its <span class="caps">LAN</span>&nbsp;<span class="caps">IP</span>.</p>
<p>I called Optimum at 17:12 and went through the initial troubleshooting
with the technical support guy. I told him I&#8217;d already power-cycled the
modem, and gave him a rundown of the status lights. He confirmed that
they couldn&#8217;t even see the modem on the <span class="caps">WAN</span> side, and would have to send
a tech out. The big plus to Optimum Business is that, despite it being
after 5 <span class="caps">PM</span> on a Sunday night, I was given an <span class="caps">ETA</span> of 2-4 hours. After
about 15 minutes, I power-cycled the modem again, and was able to get
link. I was seeing some data pushed through the routers, but only about
50Kbps. I called Optimum back, spoke with another tech, and was told
that they couldn&#8217;t even get diagnostics back from the modem, and were
seeing 94% packet loss on ping. Time to wait for the&nbsp;tech.</p>
<p>The field tech arrived at 17:53. Utterly amazing&#8230; about 30 minutes
after I got off the phone with tech support. I don&#8217;t know if they keep
their better techs waiting around for business customers, but this guy -
Jason - was one of the most knowledgeable and experienced that I&#8217;ve ever
met. He poked around the modem a bit, re-did some of the shoddy work
that the original installers left, and then climbed the pole to figure
out what was going on. About half an hour later, he came back with the
bad news. His test scope wouldn&#8217;t even lock on to the 609MHz carrier
used for the cable modem, so there was something definitely wrong, and
it was past the pole in front of the house. He told me they&#8217;d need to
escalate the problem to the outside plant engineers, but since I was a
business customer, I could expect some update or fix in 6-18 hours. He
left around 18:30. Well, I was bummed, but I used the time to get other
stuff done and start planning for at least minimal <span class="caps">DR</span> plans for the&nbsp;future.</p>
<p>According to my off-site Nagios, I at least got some mail out and <span class="caps">SSH</span> in
from 19:55 to 20:44, and then had another total loss of connectivity.
Everything came back around 02:20 today, meaning a full 12 hours of&nbsp;downtime.</p>
<p><strong>Analysis and Future&nbsp;Plans:</strong></p>
<p>Well for the foreseeable future I&#8217;m just working my day job and probably
not doing much (paid) consulting, so purchasing a backup connection is
out of the question - especially since FiOS charges almost twice what
Optimum does for static <span class="caps">IP</span> service. There&#8217;s really no way I could&#8217;ve
prevented this outage, and it turns out that the problem wasn&#8217;t even on
my property, so it&#8217;s not anything I could have fixed myself (or
prevented by convincing Optimum to let me purchase a spare modem to keep
on hand). Once again, for something that isn&#8217;t directly money-making for
me, it&#8217;s not really worth it to try and get hosting as a backup, since
I&#8217;ve got all sorts of complex postfix configurations, <span class="caps">BIND</span> master/slave
replication, etc. Within my budget, I can&#8217;t really say there&#8217;s anything
I could do to solve this problem, or to get even half of my services
back up. My offsite Nagios is behind a dynamic residential cable
connection, so that won&#8217;t really fix any problems&nbsp;either.</p>
<p>My plan for the short-term is to find a static <span class="caps">IP</span> somewhere that I can
run a box behind, add it as a <span class="caps">NS</span> record, and at the minimum setup a
caching Postfix server, a catch-all Apache server with a &#8220;we know about
it, we&#8217;re coming back soon&#8221; page, and hacked <span class="caps">BIND</span> zone files that point
everything at this one box (albeit with a low&nbsp;<span class="caps">TTL</span>).</p>
<p>If anyone out there happens to read this, any comments on how to deal
with a total loss of connectivity on a budget of, say, $15/month above
the cost of my Optimum&nbsp;connection??</p>
            </div>
            <!-- /.entry-content -->
    <hr />
    <!-- Shariff Button BEGIN -->
    <div class="shariff"
        data-lang="en"
        data-orientation="horizontal"
        data-services = "[&quot;facebook&quot;,&quot;googleplus&quot;,&quot;twitter&quot;,&quot;linkedin&quot;,&quot;diaspora&quot;]"
        data-theme="standard"
        data-url="https://blog.jasonantman.com/2011/01/downtime-last-night-coping-with-outages-on-a-shoestring-budget/"></div>
    <!-- Shariff Button END -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'jantman'; // required: replace example with your forum shortname

                    var disqus_identifier = 'downtime-last-night-coping-with-outages-on-a-shoestring-budget';
                var disqus_url = 'https://blog.jasonantman.com/2011/01/downtime-last-night-coping-with-outages-on-a-shoestring-budget/';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Recent Posts -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
  <ul class="list-group" id="recentposts">
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2021/03/octoprint-power-outage-handling/">OctoPrint Power Outage&nbsp;Handling</a></li>
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2020/11/on-the-creation-use-and-management-of-docker-images/">On The Creation, Use, and Management of Docker&nbsp;Images</a></li>
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2019/04/galaxy-s10--android-9-alarm-app-broken-by-battery-optimization/">Galaxy S10 / Android 9 alarm app broken by battery&nbsp;optimization</a></li>
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2019/03/arch-linux-on-a-dell-precision-5530--xps-15-9570-laptop/">Arch Linux on a Dell Precision 5530 / <span class="caps">XPS</span> 15 9570&nbsp;Laptop</a></li>
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2018/12/twilio-programmable-wireless-ppp-proxy-docker-image/">Twilio Programmable Wireless <span class="caps">PPP</span> Proxy Docker&nbsp;Image</a></li>
  </ul>
</li>
<!-- End Sidebar/Recent Posts -->

<!-- Sidebar/Twitter Timeline -->
<li class="list-group-item">
  <h4><i class="fa fa-twitter fa-lg"></i><span class="icon-label">Latest Tweets</span></h4>
  <div id="twitter_timeline">
    <a class="twitter-timeline" data-width="250" data-height="300" data-dnt="true" data-theme="light" href="https://twitter.com/j_antman">Tweets by j_antman</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</li>
<!-- End Sidebar/Twitter Timeline -->

<!-- Sidebar/Github -->
<li class="list-group-item">
  <h4><i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub Repos</span></h4>
  <div id="gh_repos">
    <p class="list-group-item">Status updating...</p>
  </div>
  <a href="https://github.com/jantman">@jantman</a> on GitHub
</li>
<!-- End Sidebar/Github -->

<!-- Sidebar/Links -->
<li class="list-group-item">
  <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
  <ul class="list-group" id="links">
    <li class="list-group-item">
      <a href="http://www.jasonantman.com" target="_blank">Homepage</a>
    </li>
    <li class="list-group-item">
      <a href="http://resume.jasonantman.com" target="_blank">Resume</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Links -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2021 Jason Antman
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://blog.jasonantman.com/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://blog.jasonantman.com/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://blog.jasonantman.com/theme/js/respond.min.js"></script>



    <!-- GITHUB_REPOS_JSON (explicitly pinned repos ) -->
  <script id="GithubReposJson" type="application/json">
  [{"description": "A script and python package to check your AWS service limits and usage via boto3.", "name": "awslimitchecker", "html_url": "https://github.com/jantman/awslimitchecker"}, {"description": "A collection of my standalone scripts to small/quick for their own repos. All kinds of useful stuff.", "name": "misc-scripts", "html_url": "https://github.com/jantman/misc-scripts"}, {"description": "Responsive Flask/SQLAlchemy personal finance app, specifically for biweekly budgeting.", "name": "biweeklybudget", "html_url": "https://github.com/jantman/biweeklybudget"}, {"description": "A standard to easily communicate to humans and machines the development/support and usability status of software repositories/projects.", "name": "repostatus.org", "html_url": "https://github.com/jantman/repostatus.org"}, {"description": "home automation/security config/scripts/tooling - HomeAssistant, AppDaemon, ZoneMinder, etc.", "name": "home-automation-configs", "html_url": "https://github.com/jantman/home-automation-configs"}, {"description": "A Python application for Linux machines to perform WiFi site surveys and present the results as a heatmap overlayed on a floorplan", "name": "python-wifi-survey-heatmap", "html_url": "https://github.com/jantman/python-wifi-survey-heatmap"}]
  </script>

<!-- GitHub JS Code -->
<script type="text/javascript">
$(document).ready(function () {
  if (!window.jXHR) {
    var jxhr = document.createElement('script');
    jxhr.type = 'text/javascript';
    jxhr.src = 'https://blog.jasonantman.com/theme/js/jXHR.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(jxhr, s);
  }

  console.log($('#GithubReposJson').html());
  github.showSpecificRepos({
    user: 'jantman',
    target: '#gh_repos',
    repos: JSON.parse($('#GithubReposJson').html())
  });
});
</script>
<script src="https://blog.jasonantman.com/theme/js/github.js" type="text/javascript"></script>
<!-- End GitHub JS Code -->
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'jantman'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics Universal -->
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-2718127-2', 'jasonantman.com');
        ga('send', 'pageview');
    </script>
    <!-- End Google Analytics Universal Code -->


    <!-- add shariff support -->
    <script src="https://blog.jasonantman.com/theme/js/shariff.min.js"></script>
</body>
</html>