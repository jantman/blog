<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Open Source WiFi Site Survey Heatmap Tool - Jason Antman's Blog</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="https://blog.jasonantman.com/2018/11/open-source-wifi-site-survey-tool/">

        <meta name="author" content="Jason Antman" />
        <meta name="keywords" content="wifi,survey,wireless,heatmap,python" />
        <meta name="description" content="A bit about a Python project I wrote to plot floorplan heatmaps of wireless site surveys." />

        <meta property="og:site_name" content="Jason Antman's Blog" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Open Source WiFi Site Survey Heatmap Tool"/>
        <meta property="og:url" content="https://blog.jasonantman.com/2018/11/open-source-wifi-site-survey-tool/"/>
        <meta property="og:description" content="A bit about a Python project I wrote to plot floorplan heatmaps of wireless site surveys."/>
        <meta property="article:published_time" content="2018-11-01" />
            <meta property="article:section" content="Software" />
            <meta property="article:tag" content="wifi" />
            <meta property="article:tag" content="survey" />
            <meta property="article:tag" content="wireless" />
            <meta property="article:tag" content="heatmap" />
            <meta property="article:tag" content="python" />
            <meta property="article:author" content="Jason Antman" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://blog.jasonantman.com/theme/css/bootstrap.flatly.min.css" type="text/css"/>
    <link href="https://blog.jasonantman.com/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://blog.jasonantman.com/theme/css/pygments/default.css" rel="stylesheet">
        <link href="https://blog.jasonantman.com/theme/css/typogrify.css" rel="stylesheet">
    <link rel="stylesheet" href="https://blog.jasonantman.com/theme/css/style.css" type="text/css"/>
        <link href="https://blog.jasonantman.com/theme/css/shariff/shariff.min.css" rel="stylesheet">

    <link rel="stylesheet" href="https://blog.jasonantman.com/theme/css/forkongithub.min.css" type="text/css" />

        <link href="https://blog.jasonantman.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Jason Antman's Blog ATOM Feed"/>

        <link href="https://blog.jasonantman.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="Jason Antman's Blog RSS Feed"/>


        <link href="https://blog.jasonantman.com/feeds/categories/software.atom.xml" type="application/atom+xml" rel="alternate"
              title="Jason Antman's Blog Software ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
<span id="forkongithub"><a href="https://github.com/jantman/blog">Fork me on GitHub</a></span>        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://blog.jasonantman.com/" class="navbar-brand">
Jason Antman's Blog            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="/pages/about.html">About Me</a></li>
                    <li><a href="/categories/aws/index.html">AWS</a></li>
                    <li><a href="/categories/software/index.html">Software</a></li>
                    <li><a href="/categories/hardware/index.html">Hardware</a></li>
                    <li><a href="/categories/diy-home-automation-security/index.html">DIY / Home Automation / Security</a></li>
                    <li><a href="/categories/miscellaneous/index.html">Miscellaneous</a></li>
                    <li><a href="/tags.html">Tags</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://blog.jasonantman.com/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://blog.jasonantman.com/2018/11/open-source-wifi-site-survey-tool/"
                       rel="bookmark"
                       title="Permalink to Open Source WiFi Site Survey Heatmap Tool">
                        Open Source WiFi Site Survey Heatmap&nbsp;Tool
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2018-11-01T18:07:00-04:00"> Thu 01 November 2018</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="https://blog.jasonantman.com/tags/wifi/index.html">wifi</a>
        /
	<a href="https://blog.jasonantman.com/tags/survey/index.html">survey</a>
        /
	<a href="https://blog.jasonantman.com/tags/wireless/index.html">wireless</a>
        /
	<a href="https://blog.jasonantman.com/tags/heatmap/index.html">heatmap</a>
        /
	<a href="https://blog.jasonantman.com/tags/python/index.html">python</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>This week I finally bought myself a new wireless access point (<span class="caps">AP</span>) to replace my current ones, a pair of older Ubiquiti models that have been continually in service without issue for <a href="https://twitter.com/j_antman/status/1029135879695228929">nine years</a> and five years, respectively. I bought another Ubiquiti, of course, but wanted to be a bit more methodical and scientific in figuring out the best placement of it in my&nbsp;house.</p>
<p>Years ago when part of my job was supporting an extremely large wireless network, we used some expensive proprietary Windows software (I&#8217;m pretty sure it was <a href="https://www.ekahau.com/products/ekahau-site-survey/overview/">Ekahau Site Survey</a>) for performing site surveys to
determine <span class="caps">AP</span> location. Essentially you temporarily rig up a running <span class="caps">AP</span> where you propose locating one, load a floorplan of the building into the site survey software, and then walk around the area tapping on the floorplan at your current location. At each tap, the software performs some measurements through the <span class="caps">AP</span> (I don&#8217;t remember what the specific software we used did, but generally it&#8217;s some bandwidth measurement like <a href="https://software.es.net/iperf/">iperf</a>) and ends up plotting a (predictive, interpolated) heatmap of signal strength or data transfer speeds over the&nbsp;floorplan.</p>
<p>I wanted to do something similar for my new <span class="caps">AP</span>, but was rather surprised that I couldn&#8217;t find any existing F/<span class="caps">OSS</span> solution; only a handful of proprietary options costing anywhere from &#8220;more than I&#8217;d pay for a one-time thing&#8221; to astronomical prices, and none of them clearly with Linux support. The closest I was able to find - and I&#8217;m very thankful that I found it - was a <a href="https://github.com/beaugunderson/wifi-heatmap">GitHub repository from Beau Gunderson</a> that plots a heatmap superimposed on a floorplan using a <span class="caps">CSV</span> file of WiFi signal strength measurements. This was enough to get me started on a similar project to automate the&nbsp;process.</p>
<p>Over a couple of afternoons I came up with a really rough tool, <a href="https://github.com/jantman/python-wifi-survey-heatmap">python-wifi-survey-heatmap</a> to handle this. The full documentation is in the <a href="https://github.com/jantman/python-wifi-survey-heatmap/blob/master/README.rst"><span class="caps">README</span></a>, but the gist is that it&#8217;s a Python <span class="caps">GUI</span> (wxPython) and <span class="caps">CLI</span> application that automates the process. It&#8217;s currently Linux-only because it uses <code>iwlib</code> (wireless_tools) to pull wireless information and perform scans, but that could be fixed by adding collector classes for other OSes. In short you run an iperf3 server somewhere on your <span class="caps">LAN</span>, connect to the <span class="caps">SSID</span> you want to test, fire up the <span class="caps">GUI</span> passing it the path to an image to use as the floorplan background and the <span class="caps">IP</span> or hostname of the iperf3 server, and then walk around clicking the floorplan at your current location. For each click the application will draw a yellow circle and then change it to green when measurement is complete, about a minute&nbsp;later.</p>
<p>For each measurement point (location on the floorplan), the application&nbsp;captures:</p>
<ul>
<li>Current wireless statistics including quality, signal strength, and noise level (like <code>iwconfig</code>).</li>
<li>A current scan (like <code>iwlist scan</code>) of all visible networks and their signal&nbsp;strength/quality.</li>
<li>Three 10-second iperf3 measurements to the iperf&nbsp;server:</li>
<li><span class="caps">TCP</span> upload (client/application to&nbsp;server)</li>
<li><span class="caps">TCP</span> download (server to&nbsp;client)</li>
<li><span class="caps">UDP</span>&nbsp;upload</li>
</ul>
<p>After each measurement is complete all data is saved to a <span class="caps">JSON</span> file in the current directory, and the gui application can optionally load an existing <span class="caps">JSON</span> output file to continue a previous survey. None of this uses any sort of shell/subprocess/exec hackery; we interface with iwconfig and iwlist information via the python <a href="https://pypi.org/project/iwlib/">iwlib</a> package, a cffi Python wrapper around wireless_tools&#8217; iwlib, and with iperf3 via the <a href="https://pypi.org/project/iperf3/">iperf3</a> package, a cdll wrapper around&nbsp;libiperf.</p>
<p>Once you&#8217;ve completed capturing data for your site survey, the <code>wifi-heatmap</code> <span class="caps">CLI</span> entrypoint processes the data and generates some heatmaps as well as channel utilization graphs like&nbsp;these:</p>
<p><a href="/GFX/channels24_WAP1.png"><img alt="example 2.4 GHz channel usage" src="/GFX/channels24_WAP1_sm.png"></a></p>
<p><a href="/GFX/channels5_WAP1.png"><img alt="example 5 GHz channel usage" src="/GFX/channels5_WAP1_sm.png"></a></p>
<p><a href="/GFX/jitter_WAP1.png"><img alt="example jitter heatmap" src="/GFX/jitter_WAP1_sm.png"></a></p>
<p><a href="/GFX/quality_WAP1.png"><img alt="example quality heatmap" src="/GFX/quality_WAP1_sm.png"></a></p>
<p><a href="/GFX/rssi_WAP1.png"><img alt="example rssi heatmap" src="/GFX/rssi_WAP1_sm.png"></a></p>
<p><a href="/GFX/tcp_download_Mbps_WAP1.png"><img alt="example tcp download heatmap" src="/GFX/tcp_download_Mbps_WAP1_sm.png"></a></p>
<p><a href="/GFX/tcp_upload_Mbps_WAP1.png"><img alt="example tcp upload heatmap" src="/GFX/tcp_upload_Mbps_WAP1_sm.png"></a></p>
<p><a href="/GFX/udp_Mbps_WAP1.png"><img alt="example udp upload heatmap" src="/GFX/udp_Mbps_WAP1_sm.png"></a></p>
<p>All of the code and some initial documentation is available at <a href="https://github.com/jantman/python-wifi-survey-heatmap">https://github.com/jantman/python-wifi-survey-heatmap</a>. It&#8217;s very alpha and rough around the edges, and I doubt I&#8217;ll be actively developing or supporting it once I&#8217;m done installing my new <span class="caps">AP</span>, but I very much hope that it might be of use to someone else and maybe someone will even improve it a&nbsp;bit.</p>
            </div>
            <!-- /.entry-content -->
    <hr />
    <!-- Shariff Button BEGIN -->
    <div class="shariff"
        data-lang="en"
        data-orientation="horizontal"
        data-services = "[&quot;facebook&quot;,&quot;googleplus&quot;,&quot;twitter&quot;,&quot;linkedin&quot;,&quot;diaspora&quot;]"
        data-theme="standard"
        data-url="https://blog.jasonantman.com/2018/11/open-source-wifi-site-survey-tool/"></div>
    <!-- Shariff Button END -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'jantman'; // required: replace example with your forum shortname

                    var disqus_identifier = 'open-source-wifi-site-survey-tool';
                var disqus_url = 'https://blog.jasonantman.com/2018/11/open-source-wifi-site-survey-tool/';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Recent Posts -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
  <ul class="list-group" id="recentposts">
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2020/11/on-the-creation-use-and-management-of-docker-images/">On The Creation, Use, and Management of Docker&nbsp;Images</a></li>
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2019/04/galaxy-s10--android-9-alarm-app-broken-by-battery-optimization/">Galaxy S10 / Android 9 alarm app broken by battery&nbsp;optimization</a></li>
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2019/03/arch-linux-on-a-dell-precision-5530--xps-15-9570-laptop/">Arch Linux on a Dell Precision 5530 / <span class="caps">XPS</span> 15 9570&nbsp;Laptop</a></li>
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2018/12/twilio-programmable-wireless-ppp-proxy-docker-image/">Twilio Programmable Wireless <span class="caps">PPP</span> Proxy Docker&nbsp;Image</a></li>
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2018/12/2018-in-review/">2018 in&nbsp;Review</a></li>
  </ul>
</li>
<!-- End Sidebar/Recent Posts -->

<!-- Sidebar/Twitter Timeline -->
<li class="list-group-item">
  <h4><i class="fa fa-twitter fa-lg"></i><span class="icon-label">Latest Tweets</span></h4>
  <div id="twitter_timeline">
    <a class="twitter-timeline" data-width="250" data-height="300" data-dnt="true" data-theme="light" href="https://twitter.com/j_antman">Tweets by j_antman</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</li>
<!-- End Sidebar/Twitter Timeline -->

<!-- Sidebar/Github -->
<li class="list-group-item">
  <h4><i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub Repos</span></h4>
  <div id="gh_repos">
    <p class="list-group-item">Status updating...</p>
  </div>
  <a href="https://github.com/jantman">@jantman</a> on GitHub
</li>
<!-- End Sidebar/Github -->

<!-- Sidebar/Links -->
<li class="list-group-item">
  <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
  <ul class="list-group" id="links">
    <li class="list-group-item">
      <a href="http://www.jasonantman.com" target="_blank">Homepage</a>
    </li>
    <li class="list-group-item">
      <a href="http://resume.jasonantman.com" target="_blank">Resume</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Links -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2020 Jason Antman
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://blog.jasonantman.com/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://blog.jasonantman.com/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://blog.jasonantman.com/theme/js/respond.min.js"></script>



    <!-- GITHUB_REPOS_JSON (explicitly pinned repos ) -->
  <script id="GithubReposJson" type="application/json">
  [{"description": "A script and python package to check your AWS service limits and usage via boto3.", "name": "awslimitchecker", "html_url": "https://github.com/jantman/awslimitchecker"}, {"description": "UNSUPPORTED - Puppet module and accompanying documentation to install/setup Arch linux on a MacBook Pro Retina 11,4", "name": "puppet-archlinux-macbookretina", "html_url": "https://github.com/jantman/puppet-archlinux-macbookretina"}, {"description": "A collection of my standalone scripts to small/quick for their own repos. All kinds of useful stuff.", "name": "misc-scripts", "html_url": "https://github.com/jantman/misc-scripts"}, {"description": "Responsive Flask/SQLAlchemy personal finance app, specifically for biweekly budgeting.", "name": "biweeklybudget", "html_url": "https://github.com/jantman/biweeklybudget"}, {"description": "A standard to easily communicate to humans and machines the development/support and usability status of software repositories/projects.", "name": "repostatus.org", "html_url": "https://github.com/jantman/repostatus.org"}, {"description": "home automation/security config/scripts/tooling - HomeAssistant, AppDaemon, ZoneMinder, etc.", "name": "home-automation-configs", "html_url": "https://github.com/jantman/home-automation-configs"}]
  </script>

<!-- GitHub JS Code -->
<script type="text/javascript">
$(document).ready(function () {
  if (!window.jXHR) {
    var jxhr = document.createElement('script');
    jxhr.type = 'text/javascript';
    jxhr.src = 'https://blog.jasonantman.com/theme/js/jXHR.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(jxhr, s);
  }

  console.log($('#GithubReposJson').html());
  github.showSpecificRepos({
    user: 'jantman',
    target: '#gh_repos',
    repos: JSON.parse($('#GithubReposJson').html())
  });
});
</script>
<script src="https://blog.jasonantman.com/theme/js/github.js" type="text/javascript"></script>
<!-- End GitHub JS Code -->
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'jantman'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics Universal -->
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-2718127-2', 'jasonantman.com');
        ga('send', 'pageview');
    </script>
    <!-- End Google Analytics Universal Code -->


    <!-- add shariff support -->
    <script src="https://blog.jasonantman.com/theme/js/shariff.min.js"></script>
</body>
</html>