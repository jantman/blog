<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Converting WordPress Posts to Pelican MarkDown - Jason Antman's Blog</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="https://blog.jasonantman.com/2014/02/converting-wordpress-posts-to-pelican-markdown/">

        <meta name="author" content="Jason Antman" />
        <meta name="keywords" content="pelican,wordpress,blog,markdown" />
        <meta name="description" content="My adventures converting my WordPress blog to Pelican, the problems I encountered, and how I solved them." />

        <meta property="og:site_name" content="Jason Antman's Blog" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Converting WordPress Posts to Pelican MarkDown"/>
        <meta property="og:url" content="https://blog.jasonantman.com/2014/02/converting-wordpress-posts-to-pelican-markdown/"/>
        <meta property="og:description" content="My adventures converting my WordPress blog to Pelican, the problems I encountered, and how I solved them."/>
        <meta property="article:published_time" content="2014-02-28" />
            <meta property="article:section" content="Miscellaneous" />
            <meta property="article:tag" content="pelican" />
            <meta property="article:tag" content="wordpress" />
            <meta property="article:tag" content="blog" />
            <meta property="article:tag" content="markdown" />
            <meta property="article:author" content="Jason Antman" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://blog.jasonantman.com/theme/css/bootstrap.flatly.min.css" type="text/css"/>
    <link href="https://blog.jasonantman.com/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://blog.jasonantman.com/theme/css/pygments/default.css" rel="stylesheet">
        <link href="https://blog.jasonantman.com/theme/css/typogrify.css" rel="stylesheet">
    <link rel="stylesheet" href="https://blog.jasonantman.com/theme/css/style.css" type="text/css"/>
        <link href="https://blog.jasonantman.com/theme/css/shariff/shariff.min.css" rel="stylesheet">

    <link rel="stylesheet" href="https://blog.jasonantman.com/theme/css/forkongithub.min.css" type="text/css" />

        <link href="https://blog.jasonantman.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Jason Antman's Blog ATOM Feed"/>

        <link href="https://blog.jasonantman.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="Jason Antman's Blog RSS Feed"/>


        <link href="https://blog.jasonantman.com/feeds/categories/miscellaneous.atom.xml" type="application/atom+xml" rel="alternate"
              title="Jason Antman's Blog Miscellaneous ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
<span id="forkongithub"><a href="https://github.com/jantman/blog">Fork me on GitHub</a></span>        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://blog.jasonantman.com/" class="navbar-brand">
Jason Antman's Blog            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="/pages/about.html">About Me</a></li>
                    <li><a href="/categories/aws/index.html">AWS</a></li>
                    <li><a href="/categories/software/index.html">Software</a></li>
                    <li><a href="/categories/hardware/index.html">Hardware</a></li>
                    <li><a href="/categories/diy-home-automation-security/index.html">DIY / Home Automation / Security</a></li>
                    <li><a href="/categories/miscellaneous/index.html">Miscellaneous</a></li>
                    <li><a href="/tags.html">Tags</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://blog.jasonantman.com/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://blog.jasonantman.com/2014/02/converting-wordpress-posts-to-pelican-markdown/"
                       rel="bookmark"
                       title="Permalink to Converting WordPress Posts to Pelican MarkDown">
                        Converting WordPress Posts to Pelican&nbsp;MarkDown
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2014-02-28T22:21:00-05:00"> Fri 28 February 2014</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="https://blog.jasonantman.com/tags/pelican/index.html">pelican</a>
        /
	<a href="https://blog.jasonantman.com/tags/wordpress/index.html">wordpress</a>
        /
	<a href="https://blog.jasonantman.com/tags/blog/index.html">blog</a>
        /
	<a href="https://blog.jasonantman.com/tags/markdown/index.html">markdown</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>A few weeks ago, I
<a href="/2014/01/planning-migration-from-wordpress-to-static-site/">posted</a> about my
plans to convert my self-hosted WordPress blog to a static site using a static
blog generator. Since then, I&#8217;ve decided to stop working on my exhaustive
<a href="https://docs.google.com/spreadsheet/ccc?key=0AnHh-ye5DNiNdF9DWkJrT2kzSkNsNVp6cjMzLXJ6VEE&amp;usp=sharing">static blog generator comparison spreadsheet</a>
and just try <a href="http://getpelican.com">Pelican</a> - mainly because it&#8217;s written in
Python which is my current strongest language, comes highly recommended, seems
to have most of the features I want, and seems to be easily&nbsp;extensible.</p>
<p>So, I walked through the documentation for the latest version (3.3.0), started
a <a href="https://github.com/jantman/blog">GitHub repo</a>, and tweaked a bunch of
settings. The repo is public, so if you want to take a look behind the scenes,
see my <a href="https://github.com/jantman/blog/blob/master/fabfile.py">fabfile</a>,
etc. feel&nbsp;free. </p>
<h2 id="initial-wordpress-import-attempt"><a class="toclink" href="#initial-wordpress-import-attempt">Initial WordPress Import&nbsp;Attempt</a></h2>
<p>I used the WordPress <span class="caps">XML</span> Export tool, as instructed in the <a href="http://docs.getpelican.com/en/latest/importer.html">Pelican Importer documentation</a>.
At first, I attempted to do a more-or-less default import from WordPress using
the <code>pelican-import</code> tool, which writes rST, and then build the blog. What I
ended up with was thousands of errors complaining about &#8220;Inline interpreted
text or phrase reference start-string without end-string&#8221;, &#8220;Explicit markup
ends without a blank line; unexpected uninden&#8221;, &#8220;malformed hyperlink target&#8221;,
&#8220;Unknown target name&#8221; on all of my links, and a bevy of other Docutils
errors. It was so utterly awful that I gave&nbsp;up.</p>
<h2 id="wordpress-import-as-markdown"><a class="toclink" href="#wordpress-import-as-markdown">WordPress Import as&nbsp;MarkDown</a></h2>
<p>Next I tried importing as MarkDown instead of rST,&nbsp;using:</p>
<div class="highlight"><pre><span></span>pelican-import --markup markdown --wpfile -o content/ --dir-page jasonantman039sblog.wordpress.2014-01-11.xml
</pre></div>


<p>That built without errors, and the posts looked somewhat right out of the
box, without any of the previous thousands of errors. And the links looked
mostly right - even the captions for images. Though I&#8217;m working at a Python
shop and writing a lot of Python these days, my knowledge of MarkDown is still
much better than rST, so this is fine for me. (I even wrote a <code>fab post</code> task
that prompts for a title, generates all of the post metadata, writes it to the
right file, and opens up an editor on&nbsp;it.)</p>
<p>The first problem was that the import script gave me one &#8220;content&#8221; directory
with 346 &#8220;.md&#8221; files in it - not exactly easy to work with. Luckily the
metadata was right, so a quick little
<a href="https://github.com/jantman/blog/blob/master/move_wordpress.sh">bash script</a>
moved the posts into a <span class="caps">YYYY</span>/<span class="caps">MM</span> directory&nbsp;hierarchy.</p>
<h2 id="obvious-problems-with-imported-posts"><a class="toclink" href="#obvious-problems-with-imported-posts">Obvious Problems with Imported&nbsp;Posts</a></h2>
<p>After getting the MarkDown import working, and the posts moved to the proper
paths, I was still having some&nbsp;issues&#8230;</p>
<h3 id="syntax-hilighting-gone"><a class="toclink" href="#syntax-hilighting-gone">Syntax Hilighting&nbsp;Gone</a></h3>
<p>In WordPress, I was using the
<a href="http://wordpress.org/extend/plugins/wp-syntax/"><span class="caps">WP</span>-Syntax</a> plugin to perform
syntax hilighting via <a href="http://qbnz.com/highlighter/">GeSHi</a>. The plugin uses
pre tags with a <code>lang=</code> attribute to specify the language,&nbsp;like:</p>
<div class="highlight"><pre><span></span>&lt;pre lang=&quot;bash&quot;&gt;
</pre></div>


<p>Unfortunately, these translated to some really ugly MarkDown fenced blocks&nbsp;like:</p>
<div class="highlight"><pre><span></span>~~~~ {lang=&quot;bash&quot;}
cp /boot/efi/<span class="caps">EFI</span>/fedora/grub.cfg /boot/efi/<span class="caps">EFI</span>/fedora/grub.cfg.bak
echo &#39;GRUB_DISABLE_OS_PROBER=&quot;true&quot;&#39; &gt;&gt; /etc/default/grub
grub2-mkconfig &gt; /boot/efi/<span class="caps">EFI</span>/fedora/grub.cfg
~~~~
</pre></div>


<p>that seem to be just a bit off from what MarkDown/Pygments can handle. The
places where I just used bare <code>&lt;pre&gt;</code> blocks translated&nbsp;fine.</p>
<p>http://blog.gastove.com/2013-09-17_enabling_line_numbers_for_pygments.html</p>
<p>Fixed this by using fenced blocks with the &#8216;lang=&#8217; stuff removed, and in class
syntax like the MarkDown docs suggest. Some four-tab-indents with
:::identifier&nbsp;work.</p>
<h3 id="broken-links"><a class="toclink" href="#broken-links">Broken&nbsp;Links</a></h3>
<p>It seems that something in the conversion process introduced line wraps (could
it really be Pandoc itself???) Unfortunately, this wreaks havoc with any
explicit reference links
that use long (long enough to break across lines) titles, depending on where
they are in the line. It seems that in some places they end up breaking
differently in the link in the text and in the link definition, which MarkDown misses, and
then renders broken links and plain text of the link table at the bottom of
the page. Manually removing the line breaks and any extraneous spaces seems to
fix&nbsp;it.</p>
<p>So, yes, Pandoc was doing this because of the <code>--reference-links</code> parameter
that <code>pelican-import</code> was calling it with. There was an
<a href="https://github.com/getpelican/pelican/issues/348">issue</a> and
<a href="https://github.com/getpelican/pelican/pull/642">pull request</a> to fix this,
but when I started with Pelican the last release was 3.3.0 (4 months ago) and
the <span class="caps">PR</span> was merged after that. So, if you&#8217;re having the same problem and the
latest release of Pelican is still 3.3.0, you might as well just apply
<a href="https://github.com/getpelican/pelican/commit/83e4d35b44a422ee8d4b077f505970d03e555f45">the patch</a>
yourself - it&#8217;s just a very simple removal of a parameter in
<code>pelican_import.py</code>.</p>
<h2 id="overall-results"><a class="toclink" href="#overall-results">Overall&nbsp;Results</a></h2>
<p>I&#8217;m quite happy with the overall results. I also spent a <em>lot</em> of time manually fixing
markup issues that didn&#8217;t translate well through Pandoc, but I suppose that&#8217;s to be
expected given that many of my older blog posts had <span class="caps">HTML</span>&nbsp;issues.</p>
            </div>
            <!-- /.entry-content -->
    <hr />
    <!-- Shariff Button BEGIN -->
    <div class="shariff"
        data-lang="en"
        data-orientation="horizontal"
        data-services = "[&quot;facebook&quot;,&quot;googleplus&quot;,&quot;twitter&quot;,&quot;linkedin&quot;,&quot;diaspora&quot;]"
        data-theme="standard"
        data-url="https://blog.jasonantman.com/2014/02/converting-wordpress-posts-to-pelican-markdown/"></div>
    <!-- Shariff Button END -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'jantman'; // required: replace example with your forum shortname

                    var disqus_identifier = 'converting-wordpress-posts-to-pelican-markdown';
                var disqus_url = 'https://blog.jasonantman.com/2014/02/converting-wordpress-posts-to-pelican-markdown/';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Recent Posts -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
  <ul class="list-group" id="recentposts">
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2021/03/octoprint-power-outage-handling/">OctoPrint Power Outage&nbsp;Handling</a></li>
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2020/11/on-the-creation-use-and-management-of-docker-images/">On The Creation, Use, and Management of Docker&nbsp;Images</a></li>
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2019/04/galaxy-s10--android-9-alarm-app-broken-by-battery-optimization/">Galaxy S10 / Android 9 alarm app broken by battery&nbsp;optimization</a></li>
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2019/03/arch-linux-on-a-dell-precision-5530--xps-15-9570-laptop/">Arch Linux on a Dell Precision 5530 / <span class="caps">XPS</span> 15 9570&nbsp;Laptop</a></li>
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2018/12/twilio-programmable-wireless-ppp-proxy-docker-image/">Twilio Programmable Wireless <span class="caps">PPP</span> Proxy Docker&nbsp;Image</a></li>
  </ul>
</li>
<!-- End Sidebar/Recent Posts -->

<!-- Sidebar/Twitter Timeline -->
<li class="list-group-item">
  <h4><i class="fa fa-twitter fa-lg"></i><span class="icon-label">Latest Tweets</span></h4>
  <div id="twitter_timeline">
    <a class="twitter-timeline" data-width="250" data-height="300" data-dnt="true" data-theme="light" href="https://twitter.com/j_antman">Tweets by j_antman</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</li>
<!-- End Sidebar/Twitter Timeline -->

<!-- Sidebar/Github -->
<li class="list-group-item">
  <h4><i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub Repos</span></h4>
  <div id="gh_repos">
    <p class="list-group-item">Status updating...</p>
  </div>
  <a href="https://github.com/jantman">@jantman</a> on GitHub
</li>
<!-- End Sidebar/Github -->

<!-- Sidebar/Links -->
<li class="list-group-item">
  <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
  <ul class="list-group" id="links">
    <li class="list-group-item">
      <a href="http://www.jasonantman.com" target="_blank">Homepage</a>
    </li>
    <li class="list-group-item">
      <a href="http://resume.jasonantman.com" target="_blank">Resume</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Links -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2021 Jason Antman
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://blog.jasonantman.com/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://blog.jasonantman.com/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://blog.jasonantman.com/theme/js/respond.min.js"></script>



    <!-- GITHUB_REPOS_JSON (explicitly pinned repos ) -->
  <script id="GithubReposJson" type="application/json">
  [{"description": "A script and python package to check your AWS service limits and usage via boto3.", "name": "awslimitchecker", "html_url": "https://github.com/jantman/awslimitchecker"}, {"description": "A collection of my standalone scripts to small/quick for their own repos. All kinds of useful stuff.", "name": "misc-scripts", "html_url": "https://github.com/jantman/misc-scripts"}, {"description": "Responsive Flask/SQLAlchemy personal finance app, specifically for biweekly budgeting.", "name": "biweeklybudget", "html_url": "https://github.com/jantman/biweeklybudget"}, {"description": "A standard to easily communicate to humans and machines the development/support and usability status of software repositories/projects.", "name": "repostatus.org", "html_url": "https://github.com/jantman/repostatus.org"}, {"description": "home automation/security config/scripts/tooling - HomeAssistant, AppDaemon, ZoneMinder, etc.", "name": "home-automation-configs", "html_url": "https://github.com/jantman/home-automation-configs"}, {"description": "A Python application for Linux machines to perform WiFi site surveys and present the results as a heatmap overlayed on a floorplan", "name": "python-wifi-survey-heatmap", "html_url": "https://github.com/jantman/python-wifi-survey-heatmap"}]
  </script>

<!-- GitHub JS Code -->
<script type="text/javascript">
$(document).ready(function () {
  if (!window.jXHR) {
    var jxhr = document.createElement('script');
    jxhr.type = 'text/javascript';
    jxhr.src = 'https://blog.jasonantman.com/theme/js/jXHR.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(jxhr, s);
  }

  console.log($('#GithubReposJson').html());
  github.showSpecificRepos({
    user: 'jantman',
    target: '#gh_repos',
    repos: JSON.parse($('#GithubReposJson').html())
  });
});
</script>
<script src="https://blog.jasonantman.com/theme/js/github.js" type="text/javascript"></script>
<!-- End GitHub JS Code -->
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'jantman'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics Universal -->
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-2718127-2', 'jasonantman.com');
        ga('send', 'pageview');
    </script>
    <!-- End Google Analytics Universal Code -->


    <!-- add shariff support -->
    <script src="https://blog.jasonantman.com/theme/js/shariff.min.js"></script>
</body>
</html>