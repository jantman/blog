<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Pre-Authorized AWS Console URLs for Notifications - Jason Antman's Blog</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="https://blog.jasonantman.com/2017/10/pre-authorized-aws-console-urls-for-notifications/">

        <meta name="author" content="Jason Antman" />
        <meta name="keywords" content="aws,iam,monitoring,notifications" />
        <meta name="description" content="Pre-authorized AWS Console login URLs with limited permissions allow immediate investigation from notifications." />

        <meta property="og:site_name" content="Jason Antman's Blog" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Pre-Authorized AWS Console URLs for Notifications"/>
        <meta property="og:url" content="https://blog.jasonantman.com/2017/10/pre-authorized-aws-console-urls-for-notifications/"/>
        <meta property="og:description" content="Pre-authorized AWS Console login URLs with limited permissions allow immediate investigation from notifications."/>
        <meta property="article:published_time" content="2017-10-08" />
            <meta property="article:section" content="AWS" />
            <meta property="article:tag" content="aws" />
            <meta property="article:tag" content="iam" />
            <meta property="article:tag" content="monitoring" />
            <meta property="article:tag" content="notifications" />
            <meta property="article:author" content="Jason Antman" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://blog.jasonantman.com/theme/css/bootstrap.flatly.min.css" type="text/css"/>
    <link href="https://blog.jasonantman.com/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://blog.jasonantman.com/theme/css/pygments/default.css" rel="stylesheet">
        <link href="https://blog.jasonantman.com/theme/css/typogrify.css" rel="stylesheet">
    <link rel="stylesheet" href="https://blog.jasonantman.com/theme/css/style.css" type="text/css"/>
        <link href="https://blog.jasonantman.com/theme/css/shariff/shariff.min.css" rel="stylesheet">

    <link rel="stylesheet" href="https://blog.jasonantman.com/theme/css/forkongithub.min.css" type="text/css" />

        <link href="https://blog.jasonantman.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Jason Antman's Blog ATOM Feed"/>

        <link href="https://blog.jasonantman.com/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="Jason Antman's Blog RSS Feed"/>


        <link href="https://blog.jasonantman.com/feeds/categories/aws.atom.xml" type="application/atom+xml" rel="alternate"
              title="Jason Antman's Blog AWS ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
<span id="forkongithub"><a href="https://github.com/jantman/blog">Fork me on GitHub</a></span>        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://blog.jasonantman.com/" class="navbar-brand">
Jason Antman's Blog            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="/pages/about.html">About Me</a></li>
                    <li><a href="/categories/aws/index.html">AWS</a></li>
                    <li><a href="/categories/software/index.html">Software</a></li>
                    <li><a href="/categories/hardware/index.html">Hardware</a></li>
                    <li><a href="/categories/diy-home-automation-security/index.html">DIY / Home Automation / Security</a></li>
                    <li><a href="/categories/miscellaneous/index.html">Miscellaneous</a></li>
                    <li><a href="/tags.html">Tags</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://blog.jasonantman.com/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://blog.jasonantman.com/2017/10/pre-authorized-aws-console-urls-for-notifications/"
                       rel="bookmark"
                       title="Permalink to Pre-Authorized AWS Console URLs for Notifications">
                        Pre-Authorized <span class="caps">AWS</span> Console URLs for&nbsp;Notifications
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2017-10-08T19:14:00-04:00"> Sun 08 October 2017</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="https://blog.jasonantman.com/tags/aws/index.html">aws</a>
        /
	<a href="https://blog.jasonantman.com/tags/iam/index.html">iam</a>
        /
	<a href="https://blog.jasonantman.com/tags/monitoring/index.html">monitoring</a>
        /
	<a href="https://blog.jasonantman.com/tags/notifications/index.html">notifications</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <h2 id="background"><a class="toclink" href="#background">Background</a></h2>
<p>Almost all of my work for the past two and a half years has revolved around Amazon Web Services,
but my personal <span class="caps">AWS</span> account (mostly a single tiny t2.micro instance that handles a tiny amount
of <span class="caps">HTTP</span> traffic and some cron jobs) has languished. Recently I&#8217;ve undertaken a project to modernize
it, moving from an <span class="caps">EC2</span> instance using an <span class="caps">AMI</span> baked by <a href="https://www.packer.io/">Packer</a> and some
custom Ruby code to manage it, to a barebones instance acting as an
<a href="https://aws.amazon.com/ecs/">Elastic Container Service (<span class="caps">ECS</span>)</a> Docker host, and all of my applications
running in containers. This makes for much easier testing and deployment, and is a lot lower effort than
baking and testing a new <span class="caps">AMI</span> every time I want to change an nginx config file (yes, everything is&nbsp;immutable).</p>
<p>I&#8217;ve got most of the basic work done and every resource in the account imported into
<a href="https://www.terraform.io/">terraform</a>, containers created and tested to replace what my old <span class="caps">EC2</span>
instance is doing, and terraform management of the <span class="caps">ECS</span> tasks and services too. So, I decided that
I&#8217;d better setup some monitoring of all this before I forget about it. I try my best to keep my account
in the free tier for <span class="caps">AWS</span>; my bills have usually been about $15 <span class="caps">USD</span>/month in the past (mostly the t2.micro
instance and Route53) and I&#8217;m expecting to go up to about $20/month with the new&nbsp;infrastructure.</p>
<p>I&#8217;ve gotten some basic monitoring in place - 7 CloudWatch Alarms for the important things, and a
Lambda function running every 30 minutes that does some more complicated and non-metric checks (and
sends to the same <span class="caps">SNS</span> topic as the alarms if it finds a problem). However, I realized how spoiled
I&#8217;ve been at my day job, where a lot of our <span class="caps">AWS</span> monitoring infrastructure relies on
<a href="https://www.datadoghq.com/">Datadog</a> and <a href="https://www.pagerduty.com/">PagerDuty</a> (both
of which I love not only for their functionality but also for their APIs). While the new
<a href="https://aws.amazon.com/blogs/aws/cloudwatch-dashboards-create-use-customized-metrics-views/">CloudWatch Dashboards</a>
feature is pretty cool for a tiny infrastructure with no other monitoring tools
(and they can finally be managed via <span class="caps">API</span>), CloudWatch still had two big pain points for me
(aside from <a href="https://aws.amazon.com/cloudwatch/pricing/">cost past the free tier</a>):</p>
<ol>
<li>There&#8217;s no option for re-notification from Alarms; if you set an <span class="caps">SNS</span> Topic target for a
  CloudWatch Metric Alarm, the notification is sent <em>once</em> when the Alarm changes state.
  And that&#8217;s&nbsp;it.</li>
<li>The notification messages are horribly&nbsp;plain.</li>
</ol>
<p>To solve the first problem, I just have my custom monitoring Lambda function also check
for any CloudWatch Alarms in a non-<span class="caps">OK</span> state for longer than 30 minutes (how often the
function runs) and re-notify for them. The second solution is a bit more&nbsp;involved&#8230;</p>
<h2 id="the-problem"><a class="toclink" href="#the-problem">The&nbsp;Problem</a></h2>
<p>The Lambda function that I put in place to do some monitoring sends alerts to a <span class="caps">SNS</span> Topic
that delivers them to my phone via <span class="caps">SMS</span> and to my personal email account. While I&#8217;ve made use
of the ability to <a href="http://docs.aws.amazon.com/sns/latest/dg/PublishTopic.html#sns-message-formatting-by-protocol">send different messages per protocol</a>
to send a short notification to <span class="caps">SMS</span> and a longer email, I still really miss the rich context
of notifications from real monitoring systems that include graph images and other useful
information. This becomes an even bigger inconvenience since I&#8217;m rarely logged in to the
<span class="caps">AWS</span> Console for my personal account, and doing so involves a dance with several long passwords
and <span class="caps">MFA</span>&nbsp;tokens.</p>
<p>So, I wanted a way to be able to receive an <span class="caps">SNS</span> monitoring notification and actually <em>see</em>
the metric graphs or events that generated it, rather than getting a plaintext (yeah, the
Simple <em>Notification</em> Service is clearly designed for <span class="caps">SMS</span> and mobile push, and can&#8217;t even
send <span class="caps">HTML</span> email) description of the triggered alarm. My first thought had been a Lambda
function triggered by the <span class="caps">SNS</span> topic, that would identify the alarm(s) in question, render
a graph of them, and then send that in a <span class="caps">HTML</span> email via <span class="caps">SES</span>. But that seemed like much more
work than I was interested in; all I <em>really</em> needed to make this workable was a way to quickly
view alarms, metrics and events in&nbsp;CloudWatch.</p>
<h2 id="solution"><a class="toclink" href="#solution">Solution</a></h2>
<p><em>Disclaimer: This is a bit of a kludge. It was designed for a tiny personal account with one human user, no monitoring other than CloudWatch, and for minimal&nbsp;cost.</em></p>
<p>For integration with non-<span class="caps">SAML</span> identity providers (&#8220;custom federation brokers&#8221;), <span class="caps">AWS</span> <span class="caps">IAM</span>
provides a way to
<a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_enable-console-custom-url.html">create a <span class="caps">URL</span> that enables federated users to access the <span class="caps">AWS</span> Console</a>.
In short, an <span class="caps">IAM</span> user with the required permissions can call <a href="http://docs.aws.amazon.com/STS/latest/APIReference/API_AssumeRole.html">AssumeRole</a>
to generate temporary credentials for a specified <span class="caps">IAM</span> Role, and then pass those credentials in
a <span class="caps">HTTP</span> request to <code>https://signin.aws.amazon.com/federation</code> and get back a temporary <code>SigninToken</code> granting
access to the <span class="caps">AWS</span> Console with the assumed role. This token can be used to construct a single <span class="caps">URL</span> that signs in
to the Console under the assumed role and brings the user to a specified destination <span class="caps">URL</span> in the <span class="caps">AWS</span>&nbsp;Console.</p>
<p>The one catch to this process (documented on the link above) is the user that makes the <code>AssumeRole</code> <span class="caps">API</span> call must have
long-term credentials (i.e. a real <span class="caps">IAM</span> User). The call to the <code>/federation</code> endpoint will fail if <code>AssumeRole</code> was called
by another assumed role&#8217;s temporary credentials, such as a Lambda function or Instance Profile. That tripped me up at first,
but I ended up figuring out a workable&nbsp;solution.</p>
<ol>
<li>Create a new <span class="caps">IAM</span> Role for read-only cloudwatch access and attach the <span class="caps">AWS</span>-managed CloudWatch Read Only
  policy to it (<code>arn:aws:iam::aws:policy/CloudWatchReadOnlyAccess</code>). This is the role that our pre-authorized
  (federated) console login will&nbsp;use.</li>
<li>Create a new <span class="caps">IAM</span> User that we&#8217;ll use to make the AssumeRole call from our Lambda function. This user should have
  a policy with only <em>one</em> permission: calling <code>sts:AssumeRole</code> on the <span class="caps">IAM</span> Role we created in the previous&nbsp;step.</li>
<li>Deploy our Lambda function, and pass the Access Key <span class="caps">ID</span> and Secret Access Key to it as environment variables.
  This is terrifyingly insecure (see note below), but little risk read-only credentials and an account that
  only has one other&nbsp;user.</li>
<li>Add code to our Lambda function to call AssumeRole for the cloudwatch read-only role, and then create the
  <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_enable-console-custom-url.html">federated login <span class="caps">URL</span></a>
  for the Console. For this part, I found a really helpful
  <a href="https://gist.github.com/weavenet/d21b288327bcc4947e690be13e19c79c">gist with the Python/boto3 implementation already done</a>.
  For the <code>Destination</code> parameter on the signin <span class="caps">URL</span>, I specified the full <span class="caps">URL</span> to the relevant
  CloudWatch Dashboard with my&nbsp;metrics.</li>
<li>Embed this <span class="caps">URL</span> in your <span class="caps">SNS</span> notification text. Most email clients should auto-link the <span class="caps">URL</span>, so you&#8217;ll end up with an email
  notification that&#8217;s still plaintext, but includes a clickable link for a read-only CloudWatch view with no
  additional authentication required. This provides a much quicker &#8220;ok, what does this problem look like?&#8221;&nbsp;workflow.</li>
</ol>
<p><em>Longer note on security:</em> This isn&#8217;t terribly secure. I wouldn&#8217;t implement anything like this at my day job.
But I&#8217;m the only user that has access to both my <span class="caps">AWS</span> account and my email. If someone gets access to my email,
the fact that they can also view my CloudWatch metrics is likely the least of my worries. Similarly, putting
actual <span class="caps">IAM</span> User credentials in Lambda environment variables is horribly, painfully, terrifyingly insecure. But
the credentials are read-only and only for CloudWatch, and in order to them, someone would need to have access
to one of <em>my</em> Users in the account, all of which are much more privileged. So, I decided that it&#8217;s an acceptably
small risk. I also wouldn&#8217;t be handing out pre-signed URLs, even with a very limited read-only role, in a
multi-user context. But once again, for a single-user low-value account, it&#8217;s a workable&nbsp;solution.</p>
<p><em>Short note on cost:</em> If I were setting up even a similarly minuscule infrastructure for any organization that
relied on it, I&#8217;d certainly invest in real monitoring solutions. <a href="https://www.datadoghq.com/pricing/">Datadog&#8217;s pricing</a>
isn&#8217;t bad at all, with a $15 <span class="caps">USD</span> per month per host plan (their free plan has 1-day data retention, so it&#8217;s
really just a demo) and <a href="https://www.pagerduty.com/pricing/">PagerDuty starts at</a> $9 <span class="caps">USD</span>/user/month. But the
combination of those two is more than my entire monthly infrastructure bill right now, so&#8230; not really worth it for&nbsp;me.</p>
<h2 id="next-steps"><a class="toclink" href="#next-steps">Next&nbsp;Steps</a></h2>
<p>If I get around to it, I&#8217;d like to stop sending email and <span class="caps">SNS</span> notifications directly from CloudWatch alarms,
and instead pass them through a Lambda function first. This would provide a means to include the pre-authorized
Dashboard <span class="caps">URL</span> described above, as well as some additional context (such as the last N metrics for the alarm
and the alarm&nbsp;history).</p>
<p>Ideally, though this is quite a bit more work, I&#8217;d figure out a simple way of rendering a graph of the
CloudWatch metric in question, and move email notifications from <span class="caps">SNS</span> to <span class="caps">SES</span>, sending <span class="caps">HTML</span> emails with
a bit more detail and some useful graphs. Another option would be to continue with <span class="caps">SNS</span>, but (assuming I
consider my email to be relatively secure and my notifications to be not-too-sensitive, both of which are
true) generate graphs and decently-useful <span class="caps">HTML</span> pages for each alert, upload them (at pseudo-random paths,
for some level of security from casual onlookers) to a public S3 bucket with website access enabled,
and include <em>that</em> <span class="caps">URL</span> in the <span class="caps">SNS</span>&nbsp;notification.</p>
            </div>
            <!-- /.entry-content -->
    <hr />
    <!-- Shariff Button BEGIN -->
    <div class="shariff"
        data-lang="en"
        data-orientation="horizontal"
        data-services = "[&quot;facebook&quot;,&quot;googleplus&quot;,&quot;twitter&quot;,&quot;linkedin&quot;,&quot;diaspora&quot;]"
        data-theme="standard"
        data-url="https://blog.jasonantman.com/2017/10/pre-authorized-aws-console-urls-for-notifications/"></div>
    <!-- Shariff Button END -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'jantman'; // required: replace example with your forum shortname

                    var disqus_identifier = 'pre-authorized-aws-console-urls-for-notifications';
                var disqus_url = 'https://blog.jasonantman.com/2017/10/pre-authorized-aws-console-urls-for-notifications/';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Recent Posts -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
  <ul class="list-group" id="recentposts">
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2020/11/on-the-creation-use-and-management-of-docker-images/">On The Creation, Use, and Management of Docker&nbsp;Images</a></li>
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2019/04/galaxy-s10--android-9-alarm-app-broken-by-battery-optimization/">Galaxy S10 / Android 9 alarm app broken by battery&nbsp;optimization</a></li>
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2019/03/arch-linux-on-a-dell-precision-5530--xps-15-9570-laptop/">Arch Linux on a Dell Precision 5530 / <span class="caps">XPS</span> 15 9570&nbsp;Laptop</a></li>
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2018/12/twilio-programmable-wireless-ppp-proxy-docker-image/">Twilio Programmable Wireless <span class="caps">PPP</span> Proxy Docker&nbsp;Image</a></li>
    <li class="list-group-item"><a href="https://blog.jasonantman.com/2018/12/2018-in-review/">2018 in&nbsp;Review</a></li>
  </ul>
</li>
<!-- End Sidebar/Recent Posts -->

<!-- Sidebar/Twitter Timeline -->
<li class="list-group-item">
  <h4><i class="fa fa-twitter fa-lg"></i><span class="icon-label">Latest Tweets</span></h4>
  <div id="twitter_timeline">
    <a class="twitter-timeline" data-width="250" data-height="300" data-dnt="true" data-theme="light" href="https://twitter.com/j_antman">Tweets by j_antman</a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
</li>
<!-- End Sidebar/Twitter Timeline -->

<!-- Sidebar/Github -->
<li class="list-group-item">
  <h4><i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub Repos</span></h4>
  <div id="gh_repos">
    <p class="list-group-item">Status updating...</p>
  </div>
  <a href="https://github.com/jantman">@jantman</a> on GitHub
</li>
<!-- End Sidebar/Github -->

<!-- Sidebar/Links -->
<li class="list-group-item">
  <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
  <ul class="list-group" id="links">
    <li class="list-group-item">
      <a href="http://www.jasonantman.com" target="_blank">Homepage</a>
    </li>
    <li class="list-group-item">
      <a href="http://resume.jasonantman.com" target="_blank">Resume</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Links -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2020 Jason Antman
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://blog.jasonantman.com/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://blog.jasonantman.com/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://blog.jasonantman.com/theme/js/respond.min.js"></script>



    <!-- GITHUB_REPOS_JSON (explicitly pinned repos ) -->
  <script id="GithubReposJson" type="application/json">
  [{"description": "A script and python package to check your AWS service limits and usage via boto3.", "name": "awslimitchecker", "html_url": "https://github.com/jantman/awslimitchecker"}, {"description": "UNSUPPORTED - Puppet module and accompanying documentation to install/setup Arch linux on a MacBook Pro Retina 11,4", "name": "puppet-archlinux-macbookretina", "html_url": "https://github.com/jantman/puppet-archlinux-macbookretina"}, {"description": "A collection of my standalone scripts to small/quick for their own repos. All kinds of useful stuff.", "name": "misc-scripts", "html_url": "https://github.com/jantman/misc-scripts"}, {"description": "Responsive Flask/SQLAlchemy personal finance app, specifically for biweekly budgeting.", "name": "biweeklybudget", "html_url": "https://github.com/jantman/biweeklybudget"}, {"description": "A standard to easily communicate to humans and machines the development/support and usability status of software repositories/projects.", "name": "repostatus.org", "html_url": "https://github.com/jantman/repostatus.org"}, {"description": "home automation/security config/scripts/tooling - HomeAssistant, AppDaemon, ZoneMinder, etc.", "name": "home-automation-configs", "html_url": "https://github.com/jantman/home-automation-configs"}]
  </script>

<!-- GitHub JS Code -->
<script type="text/javascript">
$(document).ready(function () {
  if (!window.jXHR) {
    var jxhr = document.createElement('script');
    jxhr.type = 'text/javascript';
    jxhr.src = 'https://blog.jasonantman.com/theme/js/jXHR.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(jxhr, s);
  }

  console.log($('#GithubReposJson').html());
  github.showSpecificRepos({
    user: 'jantman',
    target: '#gh_repos',
    repos: JSON.parse($('#GithubReposJson').html())
  });
});
</script>
<script src="https://blog.jasonantman.com/theme/js/github.js" type="text/javascript"></script>
<!-- End GitHub JS Code -->
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'jantman'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics Universal -->
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-2718127-2', 'jasonantman.com');
        ga('send', 'pageview');
    </script>
    <!-- End Google Analytics Universal Code -->


    <!-- add shariff support -->
    <script src="https://blog.jasonantman.com/theme/js/shariff.min.js"></script>
</body>
</html>